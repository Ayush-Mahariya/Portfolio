<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title>Admin Page</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
        <link rel="stylesheet" href="/assets/css/adminStyles.css">
    <body>
        <nav class="navbar sticky-top navbar-expand-lg navbar-light bg-white shadow">
            <div class="container">
                <a class="navbar-brand d-lg-none text-center" href="#">
                    <h5 class="brand-title">Ayush-Admin</h5>
                    <div class="brand-subtitle brand-custom">Web Designer | Developer</div>
                </a>
                <button class="navbar-toggler ms-auto" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse mt-sm-20 navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item text-center">
                            <a href="/" class="nav-link">Home</a>
                        </li>
                        <li class="nav-item text-center">
                            <a href="#skills" class="nav-link">Skills</a>
                        </li>
                        <li class="nav-item text-center">
                            <a href="#expertise" class="nav-link">Expertise</a>
                        </li>
                    </ul>
                    <ul class="navbar-nav brand">
                        <li class="brand-txt text-center">
                            <h5 class="brand-title">Ayush-Admin</h5>
                            <div class="brand-subtitle brand-custom">Web Designer | Developer</div>
                        </li>
                    </ul>
                    <ul class="navbar-nav ms-auto">
                        <li class="nav-item text-center">
                            <a href="#projects" class="nav-link">Projects</a>
                        </li>
                        <li class="nav-item text-center">
                            <a href="#blog" class="nav-link">Blog</a>
                        </li>
                        <li class="nav-item last-item text-center">
                            <a href="#messages" class="nav-link">Message</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="container">
            <div id="skills" class="my-4">
                <h1 class="text-decoration-underline">Skills</h1>
                <table class="table">
                    <thead>
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">Skill</th>
                        <th scope="col">Strength</th>
                        <th scope="col">Delete</th>
                      </tr>
                    </thead>
                    <tbody>
                        <% for(let i=0 ; i<skillList.length ; i++){ %>
                            <tr>
                              <th scope="row"><%=i+1%></th>
                              <td><%=skillList[i].headingTxt%></td>
                              <td><%=skillList[i].styleTxt%></td>
                              <td>
                                <form class="skill" action="/deleteSkill" method="post">
                                    <button class="btn btn-danger btn-sm" type="submit" name="skillId" value=<%= skillList[i]._id %>><i class="fa-solid fa-trash"></i></button>
                                </form>
                              </td>
                            </tr>
                        <% } %>
                    </tbody>
                </table>
                <h4>Add New Skill</h4>
                <form class="skill" action="/addSkill" method="post">
                    <input type="text" name="skillName" placeholder="Add Skill name" autocomplete="off">
                    <input type="text" name="skillPercent" placeholder="Add Strength in %" autocomplete="off">
                    <button class="btn btn-primary btn-sm" type="submit"><i class="fa-solid fa-plus"></i></button>
                </form>
            </div>
            <hr class="border border-dark border-2 opacity-75">
            <div id="expertise" class="my-4">
                <h1 class="text-decoration-underline">Expertise</h1>
                <table class="table">
                    <thead>
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">Expertise</th>
                        <th scope="col">Description</th>
                        <th scope="col">Icon</th>
                        <th scope="col">Delete</th>
                      </tr>
                    </thead>
                    <tbody>
                        <% for(let i=0 ; i<expertiseList.length ; i++){ %>
                            <tr>
                              <th scope="row"><%=i+1%></th>
                              <td><%=expertiseList[i].headingTxt%></td>
                              <td><%=expertiseList[i].paraTxt%></td>
                              <td><%=expertiseList[i].classType%></td>
                              <td>
                                <form class="skill" action="/deleteExpertise" method="post">
                                    <button class="btn btn-danger btn-sm" type="submit" name="expertiseId" value=<%= expertiseList[i]._id %>><i class="fa-solid fa-trash"></i></button>
                                </form>
                              </td>
                            </tr>
                        <% } %>
                    </tbody>
                </table>
                <h4>Add New Expertise</h4>
                <form class="skill" action="/addExpertise" method="post">
                    <input type="text" name="expertiseName" placeholder="Add expertise name" autocomplete="off">
                    <input type="text" name="description" placeholder="Add Description" autocomplete="off">
                    <input type="text" name="iconClass" placeholder="Add Icon class" autocomplete="off">
                    <button class="btn btn-primary btn-sm" type="submit"><i class="fa-solid fa-plus"></i></button>
                </form>
            </div>
            <hr class="border border-dark border-2 opacity-75">
            <div id="projects" class="my-4">
                <h1 class="text-decoration-underline">Projects</h1>
                <table class="table">
                    <thead>
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">Project Details</th>
                        <th scope="col">Description</th>
                        <th scope="col">Description in short</th>
                        <th scope="col">Delete</th>
                      </tr>
                    </thead>
                    <tbody>
                        <% for(let i=0 ; i<projectList.length ; i++){ %>
                            <tr>
                                <th scope="row"><%=i+1%></th>
                                <td>
                                    <table class="table">
                                        <tbody>
                                            <tr>
                                                <th class="fw-medium" scope="col">Name:</th>
                                                <th class="fw-normal" scope="col"><%=projectList[i].headingTxt%></th>
                                            </tr>
                                            <tr>
                                                <th class="fw-medium" scope="col">Site Link:</th>
                                                <th class="fw-normal" scope="col"><%=projectList[i].siteLink%></th>
                                            </tr>
                                            <tr>
                                                <th class="fw-medium" scope="col">Git Link:</th>
                                                <th class="fw-normal" scope="col"><%=projectList[i].gitLink%></th>
                                            </tr>
                                            <tr>
                                                <th class="fw-medium" scope="col">Skills Used:</th>
                                                <th class="fw-normal" scope="col">
                                                    <%projectList[i].skillList.forEach((skill) => { %>
                                                        <%=skill%>, 
                                                    <%})%>
                                                </th>
                                            </tr>
                                            <tr>
                                                <th class="fw-medium" scope="col">Icon Class:</th>
                                                <th class="fw-normal" scope="col"><%=projectList[i].classType%></th>
                                            </tr>
                                        </tbody>
                                    </table>
                                </td>
                              <td><%=projectList[i].paraTxt%></td>
                              <td><%=projectList[i].paraTxtShort%></td>
                              <td>
                                <form class="skill" action="/deleteProject" method="post">
                                    <button class="btn btn-danger btn-sm" type="submit" name="projectId" value=<%= projectList[i]._id %>><i class="fa-solid fa-trash"></i></button>
                                </form>
                              </td>
                            </tr>
                        <% } %>
                    </tbody>
                </table>
                <h4>Add New Project</h4>
                <form action="/addProject" method="post">
                    <div class="mb-3">
                      <label for="projectName" class="form-label">Name</label>
                      <input type="text" class="form-control" id="projectName" name="name" autocomplete="off">
                    </div>
                    <div class="mb-3">
                      <label for="projectSite" class="form-label">Site Link</label>
                      <input type="text" class="form-control" id="projectSite" name="site" autocomplete="off">
                    </div>
                    <div class="mb-3">
                      <label for="projectGit" class="form-label">Git Link</label>
                      <input type="text" class="form-control" id="projectGit" name="git" autocomplete="off">
                    </div>
                    <div class="mb-3">
                      <label for="projectSkills" class="form-label">Skills Used</label>
                      <input type="text" class="form-control" id="projectSkills" name="skills" placeholder="Write all skills separated with ', '" autocomplete="off">
                    </div>
                    <div class="mb-3">
                      <label for="projectIcon" class="form-label">Icon Class</label>
                      <input type="text" class="form-control" id="projectIcon" name="iconClass" autocomplete="off">
                    </div>
                    <div class="mb-3">
                      <label for="projectDescription" class="form-label">Description</label>
                      <textarea class="form-control" id="projectDescription" name="description"></textarea>
                    </div>
                    <div class="mb-3">
                      <label for="projectShortDescription" class="form-label">Description in Short</label>
                      <textarea class="form-control" id="projectShortDescription" name="shortDescription"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Add</button>
                  </form>
            </div>
            <hr class="border border-dark border-2 opacity-75">
            <div id="totalProjects" class="my-4">
                <h1 class="text-decoration-underline">Total Projects</h1>
                <table class="table">
                    <tbody>
                        <tr>
                            <td>Total No. of Projects</td>
                            <td><%=totalNoOfProjects[0].noOfProjects%></td>
                        </tr>
                    </tbody>
                </table>
                <h4>Change Total no. Projects</h4>
                <form action="/changeNoOfProjects" method="post">
                    <input type="number" name="noOfProjects" autocomplete="off">
                    <button name="id" value="<%=totalNoOfProjects[0]._id%>" class="btn btn-warning btn-sm" type="submit">Update No. of Projects</button>
                </form>
            </div>
            <hr class="border border-dark border-2 opacity-75">
            <div id="blog" class="my-4">
                <h1 class="text-decoration-underline">Blogs</h1>
                <table class="table">
                    <thead>
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">Blog</th>
                        <th scope="col">Delete</th>
                      </tr>
                    </thead>
                    <tbody>
                        <% for(let i=0 ; i<blogList.length ; i++){ %>
                            <tr>
                                <th scope="row"><%=i+1%></th>
                                <td>
                                    <div class="blog-card">
                                        <div class="img-holder">
                                            <img src="<%=blogList[i].imgLink%>" alt="<%=blogList[i].imgLink%>">
                                        </div>
                                        <div class="content-holder">
                                            <h6 class="title"><%=blogList[i].headingTxt%></h6>
                                    
                                            <p class="post-details">
                                                <a>By: Admin</a>
                                                <a class="post-request"><i class="bi bi-heart-fill text-danger"></i><%=blogList[i].likeNumber%></a>
                                            </p>
                                            
                                            <p><%=blogList[i].paraTxt%></p>
                                        </div>
                                    </div>                                    
                                </td>
                                <td>
                                    <form class="skill" action="/deleteBlog" method="post">
                                        <button class="btn btn-danger btn-sm" type="submit" name="blogId" value=<%= blogList[i]._id %>><i class="fa-solid fa-trash"></i></button>
                                    </form>
                                </td>
                            </tr>
                        <% } %>
                    </tbody>
                </table>
                <h4>Add a New Blog</h4>
                <form action="/addBlog" method="post">
                    <div class="mb-3">
                      <label for="blogHeading" class="form-label">Heading</label>
                      <input type="text" class="form-control" id="blogHeading" name="headingTxt" autocomplete="off">
                    </div>
                    <div class="mb-3">
                      <label for="blogImg" class="form-label">Image Link</label>
                      <input type="text" class="form-control" id="blogImg" name="imgLink" autocomplete="off">
                    </div>
                    <div class="mb-3">
                      <label for="blogDescription" class="form-label">Description</label>
                      <textarea class="form-control" id="blogDescription" name="paraTxt"></textarea>
                    </div>
                    <button type="submit" class="btn btn-primary">Add</button>
                  </form>
            </div>
            <hr class="border border-dark border-2 opacity-75">
            <div id="messages" class="my-4">
                <h1 class="text-decoration-underline">Messages</h1>
                <table class="table">
                    <thead>
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">Name</th>
                        <th scope="col">Email</th>
                        <th scope="col">Message</th>
                        <th scope="col">Reply</th>
                      </tr>
                    </thead>
                    <tbody>
                        <% for(let i=0 ; i<messageList.length ; i++){ %>
                            <tr>
                              <th scope="row"><%=i+1%></th>
                              <td><%=messageList[i].senderName%></td>
                              <td><%=messageList[i].senderEmail%></td>
                              <td><%=messageList[i].senderMessage%></td>
                              <td>
                                <a href = "mailto: <%=messageList[i].senderEmail%>" class="btn btn-primary btn-sm" >Reply</a>
                              </td>
                            </tr>
                        <% } %>
                    </tbody>
                </table>
            </div>
        </div>
    </body>
</html>